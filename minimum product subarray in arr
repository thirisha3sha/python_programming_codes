def minimum_product(arr):
    if not arr:
        return 0
    max_prod=min_prod=arr[0]
    result=arr[0]
    for num in arr[1:]:
        if num<0:
            max_prod,min_prod=min_prod,max_prod
        max_prod=max(num,num*max_prod)
        min_prod=min(num,num*min_prod)
        result=min(result,min_prod)
    return result
print(minimum_product([2,3,-2,4]))  # Output: -12